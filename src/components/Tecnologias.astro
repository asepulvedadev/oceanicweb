---
import type { ImageMetadata } from 'astro';
import astroIcon from '../assets/icons/astro.svg';
import html5Icon from '../assets/icons/html5.svg';
import css3Icon from '../assets/icons/css3.svg';
import tailwindIcon from '../assets/icons/tailwind.svg';
import javascriptIcon from '../assets/icons/javascript.svg';
import reactIcon from '../assets/icons/react.svg';
import angularIcon from '../assets/icons/angular.svg';
import nodejsIcon from '../assets/icons/nodejs.svg';

import awsIcon from '../assets/icons/aws.svg';

interface Tecnologia {
  nombre: string;
  icono: ImageMetadata;
}

const tecnologias: Tecnologia[] = [
  { nombre: 'Astro', icono: astroIcon },
  { nombre: 'HTML5', icono: html5Icon },
  { nombre: 'CSS3', icono: css3Icon },
  { nombre: 'Tailwind', icono: tailwindIcon },
  { nombre: 'JavaScript', icono: javascriptIcon },
  { nombre: 'React', icono: reactIcon },
  { nombre: 'Angular', icono: angularIcon },
  { nombre: 'Node.js', icono: nodejsIcon },
  
  { nombre: 'AWS', icono: awsIcon }
];

// WhatsApp
const whatsappNumber = '+573108644707';
const whatsappMessage = 'Hola, me interesa conocer más sobre sus servicios.';
const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;

---

<section id="tecnologias" class="py-16 bg-gray-900 relative overflow-hidden">
  <!-- Background Elements -->
  <div class="absolute inset-0 bg-grid-pattern opacity-[0.03]"></div>
  <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent via-gray-900/50 to-gray-900"></div>
  
  <!-- Elementos decorativos -->
  <div class="absolute -top-20 -right-20 w-80 h-80 bg-oceanic-blue opacity-10 rounded-full blur-3xl"></div>
  <div class="absolute -bottom-40 -left-20 w-80 h-80 bg-tech-green opacity-10 rounded-full blur-3xl"></div>
  
  <div class="container mx-auto px-4 relative">
    <div class="max-w-3xl mx-auto text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-oceanic-blue to-tech-green animate-gradient-x">
        Tecnologías que Dominamos
      </h2>
      <p class="text-gray-400 text-lg">
        Utilizamos las tecnologías más avanzadas para crear soluciones innovadoras
      </p>
    </div>

    <div class="relative">
      <!-- Carrusel infinito de tecnologías -->
      <div class="flex space-x-16 animate-scroll-infinite hover:pause">
        <!-- Primer conjunto de tecnologías -->
        {tecnologias.map((tech) => (
          <div class="flex-shrink-0 w-20 h-20 flex flex-col items-center justify-center group">
            <img src={tech.icono.src} alt={tech.nombre} class="w-14 h-14 mb-2 transition-all duration-300 group-hover:scale-110 group-hover:brightness-110" />
            <span class="text-sm text-white/60 group-hover:text-white/90 transition-colors duration-300">{tech.nombre}</span>
          </div>
        ))}
        {/* Duplicamos las tecnologías para crear el efecto infinito */}
        {tecnologias.map((tech) => (
          <div class="flex-shrink-0 w-20 h-20 flex flex-col items-center justify-center group">
            <img src={tech.icono.src} alt={tech.nombre} class="w-14 h-14 mb-2 transition-all duration-300 group-hover:scale-110 group-hover:brightness-110" />
            <span class="text-sm text-white/60 group-hover:text-white/90 transition-colors duration-300">{tech.nombre}</span>
          </div>
        ))}
      </div>
    </div>
    
    <div class="mt-12 text-center">
      <a href={whatsappUrl} class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-oceanic-blue to-tech-green text-white font-medium rounded-xl shadow-lg shadow-tech-green/20 hover:shadow-xl hover:shadow-tech-green/30 transform hover:-translate-y-1 transition-all duration-300">
        <span>Hablemos sobre tu proyecto</span>
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M5 12h14"></path>
          <path d="m12 5 7 7-7 7"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  @keyframes scroll-infinite {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(calc(-50% - 2rem));
    }
  }

  .animate-scroll-infinite {
    animation: scroll-infinite 20s linear infinite;
  }

  .hover\:pause:hover {
    animation-play-state: paused;
  }

  /* Añadimos un efecto de desvanecimiento en los bordes */
  .relative::before,
  .relative::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100px;
    z-index: 1;
    pointer-events: none;
  }

  .relative::before {
    left: 0;
    background: linear-gradient(to right, rgb(17, 24, 39) 0%, transparent 100%);
  }

  .relative::after {
    right: 0;
    background: linear-gradient(to left, rgb(17, 24, 39) 0%, transparent 100%);
  }
</style> 